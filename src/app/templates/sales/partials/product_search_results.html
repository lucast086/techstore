{% if products %}
<div class="grid grid-cols-1 gap-2">
  {% for product in products %}
  <div class="border border-gray-200 rounded-lg p-3 hover:bg-gray-50 cursor-pointer transition-colors">
    <div class="flex justify-between items-start">
      <div class="flex-1">
        <h6 class="font-medium text-gray-900">{{ product.name }}</h6>
        <div class="text-sm text-gray-600 space-x-3">
          <span>SKU: {{ product.sku }}</span>
          {% if product.barcode %}
          <span>Barcode: {{ product.barcode }}</span>
          {% endif %}
        </div>
        <div class="text-sm mt-1">
          <span class="text-gray-600">Stock: </span>
          <span class="font-medium {% if product.current_stock < product.minimum_stock %}text-red-600{% else %}text-green-600{% endif %}">
            {{ product.current_stock }}
          </span>
          <span class="text-gray-500">/ Min: {{ product.minimum_stock }}</span>
        </div>
      </div>
      <div class="text-right ml-4">
        <div class="space-y-1 mb-2">
          <div class="flex items-center justify-end space-x-2">
            <input type="radio" id="price-retail-{{ product.id }}" name="price-{{ product.id }}" value="{{ product.first_sale_price }}" checked class="text-primary-600 focus:ring-primary-500">
            <label for="price-retail-{{ product.id }}" class="text-sm">
              <span class="text-gray-600">Retail:</span>
              <span class="font-semibold">${{ product.first_sale_price }}</span>
            </label>
          </div>
          {% if product.second_sale_price %}
          <div class="flex items-center justify-end space-x-2">
            <input type="radio" id="price-wholesale-{{ product.id }}" name="price-{{ product.id }}" value="{{ product.second_sale_price }}" class="text-primary-600 focus:ring-primary-500">
            <label for="price-wholesale-{{ product.id }}" class="text-sm">
              <span class="text-gray-600">Wholesale:</span>
              <span class="font-semibold">${{ product.second_sale_price }}</span>
            </label>
          </div>
          {% endif %}
          {% if product.third_sale_price %}
          <div class="flex items-center justify-end space-x-2">
            <input type="radio" id="price-special-{{ product.id }}" name="price-{{ product.id }}" value="{{ product.third_sale_price }}" class="text-primary-600 focus:ring-primary-500">
            <label for="price-special-{{ product.id }}" class="text-sm">
              <span class="text-gray-600">Special:</span>
              <span class="font-semibold">${{ product.third_sale_price }}</span>
            </label>
          </div>
          {% endif %}
        </div>
        <button
          type="button"
          class="w-full px-3 py-1 text-sm {% if product.current_stock <= 0 %}bg-gray-400 cursor-not-allowed{% else %}bg-primary-600 hover:bg-primary-700{% endif %} text-white rounded focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1"
          onclick="addToCartWithPrice({{ product.id }}, '{{ product.name }}', '{{ product.sku }}', {{ product.current_stock }})"
          {% if product.current_stock <= 0 %}disabled{% endif %}
        >
          {% if product.current_stock > 0 %}
          Agregar to Cart
          {% else %}
          Out of Stock
          {% endif %}
        </button>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="text-center py-8 text-gray-500">
  <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
  </svg>
  <p class="mt-2">No products found</p>
</div>
{% endif %}
