<tr class="border-b border-gray-200 hover:bg-gray-50">
  <td class="py-3 px-2">
    <input type="hidden" name="product_id_{{ loop.index0 }}" value="{{ item.product_id }}" form="checkout-form">
    <input type="hidden" name="unit_price_{{ loop.index0 }}" value="{{ item.unit_price }}" form="checkout-form">
    <div class="text-sm">
      <div class="font-medium text-gray-900">{{ item.product_name }}</div>
      <div class="text-gray-500">{{ item.product_sku }}</div>
    </div>
  </td>
  <td class="text-center px-2">
    <input
      type="number"
      name="quantity_{{ loop.index0 }}"
      value="{{ item.quantity }}"
      min="1"
      class="w-16 px-2 py-1 text-center border border-gray-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
      form="checkout-form"
      hx-post="/sales/pos/cart/update"
      hx-trigger="change"
      hx-vals='{"product_id": "{{ item.product_id }}"}'
      hx-target="#cart-totals"
    >
  </td>
  <td class="text-right px-2">
    <div class="flex items-center justify-end gap-1">
      <span class="text-gray-500">$</span>
      <input
        type="number"
        name="custom_price_{{ loop.index0 }}"
        value="{{ item.unit_price }}"
        min="0"
        step="0.01"
        class="w-24 px-2 py-1 text-right border border-gray-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-primary-500"
        form="checkout-form"
        hx-post="/sales/pos/cart/update-price"
        hx-trigger="change"
        hx-vals='{"product_id": "{{ item.product_id }}"}'
        hx-target="#cart-totals"
        title="Edit price"
      >
    </div>
  </td>
  <td class="text-right px-2 font-medium">${{ item.total_price }}</td>
  <td class="text-center px-2">
    <button
      type="button"
      class="text-red-600 hover:text-red-700 transition-colors"
      hx-post="/sales/pos/cart/remove"
      hx-vals='{"product_id": "{{ item.product_id }}"}'
      hx-target="closest tr"
      hx-swap="outerHTML"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
      </svg>
    </button>
  </td>
</tr>
